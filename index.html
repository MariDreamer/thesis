<!DOCTYPE html>
<html>
<head>
  <title>Custom Uploader Example</title>
  <!-- importing file uploader script from github repo -->
  <script type="module" src="https://cdn.jsdelivr.net/gh/MariDreamer/file-uploader-doc-blurring@main/custom-uploader.js"></script>
</head>
<body>

  
<!-- adding component to the page -->
<custom-uploader></custom-uploader>


<!-- handling success and error events with event listeners (in this case if success the result is downloaded as processed.jpg) -->
<script>
  document.querySelector('custom-uploader').addEventListener('processingcomplete', (e) => {
    const blob = e.detail;
    const url = URL.createObjectURL(blob);
    const link = document.createElement('a');
    link.href = url;
    link.download = 'processed.jpg';
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
    URL.revokeObjectURL(url);
  });

  document.querySelector('custom-uploader').addEventListener('processingerror', (e) => {
    alert("Error uploading or processing the image: " + e.detail.message);
  });
</script>

</body>
</html>
